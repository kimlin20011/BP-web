
var greeterFactory = eth.contract([{"constant":true,"inputs":[{"name":"containerID","type":"string"}],"name":"getNumberOfState","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"containerID","type":"string"}],"name":"createContainer","outputs":[{"name":"containerAddress","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"containerNumber","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"clearContainerNumber","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"creatorAddress","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_address","type":"address"},{"indexed":false,"name":"_containerNumber","type":"uint256"},{"indexed":false,"name":"_containerID","type":"string"}],"name":"containerCreated","type":"event"}]);

var greeterCompiled = "0x" + "608060405234801561001057600080fd5b5060008054600160a060020a03191633178155600255610cdf806100356000396000f30060806040526004361061006c5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166327271ee1811461007157806385fdc5ce1461013f5780639ab67fa7146101c1578063b1695b13146101e8578063e927fc5c146101fd575b600080fd5b34801561007d57600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526100ca9436949293602493928401919081908401838280828437509497506102129650505050505050565b6040805160208082528351818301528351919283929083019185019080838360005b838110156101045781810151838201526020016100ec565b50505050905090810190601f1680156101315780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561014b57600080fd5b506040805160206004803580820135601f810184900484028501840190955284845261019894369492936024939284019190819084018382808284375094975061036d9650505050505050565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b3480156101cd57600080fd5b506101d66105ca565b60408051918252519081900360200190f35b3480156101f457600080fd5b506101d66105d0565b34801561020957600080fd5b506101986105da565b606060006001836040518082805190602001908083835b602083106102485780518252601f199092019160209182019101610229565b51815160209384036101000a600019018019909216911617905292019485525060408051948590039091018420547f367db435000000000000000000000000000000000000000000000000000000008552905173ffffffffffffffffffffffffffffffffffffffff9091169450849363367db4359350600480820193506000929182900301818387803b1580156102de57600080fd5b505af11580156102f2573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561031b57600080fd5b81019080805164010000000081111561033357600080fd5b8201602081018481111561034657600080fd5b815164010000000081118282018710171561036057600080fd5b5090979650505050505050565b6000806001836040518082805190602001908083835b602083106103a25780518252601f199092019160209182019101610383565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092205473ffffffffffffffffffffffffffffffffffffffff161591506103f2905057600080fd5b826103fb6105f6565b60208082528251818301528251829160408301919085019080838360005b83811015610431578181015183820152602001610419565b50505050905090810190601f16801561045e5780820380516001836020036101000a031916815260200191505b5092505050604051809103906000f08015801561047f573d6000803e3d6000fd5b509050806001846040518082805190602001908083835b602083106104b55780518252601f199092019160209182019101610496565b51815160209384036101000a6000190180199092169116179052920194855250604080519485900382018520805473ffffffffffffffffffffffffffffffffffffffff191673ffffffffffffffffffffffffffffffffffffffff97881617905560028054600101908190558086528583018281528a51928701929092528951968816967f80c2ee26a7f60a683da39803112fd235964e0483570391aa65004fe6d5a34ea4969195508a9450909260608401919085019080838360005b83811015610589578181015183820152602001610571565b50505050905090810190601f1680156105b65780820380516001836020036101000a031916815260200191505b50935050505060405180910390a292915050565b60025481565b6000600281905590565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b6040516106ad80610607833901905600608060405234801561001057600080fd5b506040516106ad3803806106ad83398101604052805160008054600160a060020a0319163317905501805161004c906001906020840190610058565b505060006003556100f3565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061009957805160ff19168380011785556100c6565b828001600101855582156100c6579182015b828111156100c65782518255916020019190600101906100ab565b506100d29291506100d6565b5090565b6100f091905b808211156100d257600081556001016100dc565b90565b6105ab806101026000396000f3006080604052600436106100775763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416632a34ede1811461007c578063367db435146100e75780634eaeb4131461017157806353d9cb6d14610186578063a0f3ecc11461019b578063ac0ef7b6146101d9575b600080fd5b34801561008857600080fd5b506040805160206004803580820135601f81018490048402850184019095528484526100d59436949293602493928401919081908401838280828437509497506101ee9650505050505050565b60408051918252519081900360200190f35b3480156100f357600080fd5b506100fc61032f565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561013657818101518382015260200161011e565b50505050905090810190601f1680156101635780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561017d57600080fd5b506100d56103bc565b34801561019257600080fd5b506100d56103c2565b3480156101a757600080fd5b506101b06103cd565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b3480156101e557600080fd5b506100fc6103e9565b6000816002600160405180828054600181600116156101000203166002900480156102505780601f1061022e576101008083540402835291820191610250565b820191906000526020600020905b81548152906001019060200180831161023c575b5050915050908152602001604051809103902090805190602001906102769291906104e7565b506003805460010190819055604080518281526020808201838152865193830193909352855133947fa74915808dde101bdea4349bc00d1933e4f82c27da31846e0a99ca67b85d5c9694909388939092606084019185019080838360005b838110156102ec5781810151838201526020016102d4565b50505050905090810190601f1680156103195780820380516001836020036101000a031916815260200191505b50935050505060405180910390a2505060035490565b60018054604080516020600284861615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156103b45780601f10610389576101008083540402835291602001916103b4565b820191906000526020600020905b81548152906001019060200180831161039757829003601f168201915b505050505081565b60035481565b600060038190555b90565b60005473ffffffffffffffffffffffffffffffffffffffff1681565b606060026001604051808280546001816001161561010002031660029004801561044a5780601f1061042857610100808354040283529182019161044a565b820191906000526020600020905b815481529060010190602001808311610436575b505092835250506040805160209281900383018120805460026001821615610100026000190190911604601f810185900485028301850190935282825290929091908301828280156104dd5780601f106104b2576101008083540402835291602001916104dd565b820191906000526020600020905b8154815290600101906020018083116104c057829003601f168201915b5050505050905090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061052857805160ff1916838001178555610555565b82800160010185558215610555579182015b8281111561055557825182559160200191906001019061053a565b50610561929150610565565b5090565b6103ca91905b80821115610561576000815560010161056b5600a165627a7a72305820df897756e88248cd927a1c2a89c36694e673a3934d7ba5935fa8981d8e4fbad40029a165627a7a723058202ca3425036b094ae0467fe8c162c8ea1867a8e5750f90314b63e7319dcfac6910029"


var sensor = greeterFactory.new("",{from:eth.accounts[0],data:greeterCompiled,gas:1000000}, function(e, contract){
    if(e) {
      console.error(e); // If something goes wrong, at least we'll know.
      return;
    }

    if(!contract.address) {
      console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");

    } else {
      console.log("Contract mined! Address: " + contract.address);
      console.log(contract);
    }
})

// geth attach http://localhost:8545
//transation
// eth.sendTransaction({from: eth.coinbase, to:"0x0851d1d1a7d89078ff1e215b46aa0c61d14cc5d3", value: web3.toWei(8000, "ether")})
// 1. unlock the account
// personal.unlockAccount(eth.accounts[0],"nccutest",999999999)
// 2. deploy on geth
// loadScript("deploy_test.js")
// 3. check if it is deployed  
// eth.getCode(sensor.address)
